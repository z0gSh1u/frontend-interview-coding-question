<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>实现instanceOf</title>
  </head>
  <body></body>
  <script>
    function MyInstanceOf(A, B) {
      let targetProto = B.prototype // prototype在类上
      let currentProto = A.__proto__ // __proto__实例上
      while (true) {
        if (currentProto === null) {
          return false
        }
        if (currentProto === targetProto) {
          return true
        }
        currentProto = currentProto.__proto__ // 向上追溯
      }
    }
    function Person(_name) {
      this.name = _name
      this.sayMyName = function(postfix) {
        console.log(this.name + postfix)
      }
    }
    let alex = new Person('alex')
    console.log(MyInstanceOf(alex, Person))
    console.log(MyInstanceOf(alex, Object))
    console.log(MyInstanceOf(alex, String))
  </script>
</html>
