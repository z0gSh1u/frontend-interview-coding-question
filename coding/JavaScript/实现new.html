<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>实现new</title>
</head>

<body>

  <pre>
1.创建对象
2.实现继承
3.执行构造
4.返回obj
  </pre>

</body>
<script>
  function New(con, ...args) {
    let obj = {}
    obj.__proto__ = con.prototype
    con.apply(obj, args)
    return obj
  }

  function Person(name) {
    this.name = name
  }
  Person.prototype.sayMyName = function () {
    console.log(this.name)
  }
  let p1 = new Person('Alan')
  let p2 = New(Person, 'Bob')
  console.log(p1)
  console.log(p2)
  console.log(p2 instanceof Person)
</script>

</html>